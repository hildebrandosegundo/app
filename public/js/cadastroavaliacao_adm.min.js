function de09(a){if(/[^0-9]/g.test(a)&&a!=""){alert("O campo está errado, somente números");return false}return true}$(document).ready(function(){$("#diverror2").hide();$("#diverror1").hide();$("#cadMateria").hide();$("#cadPrograma").hide();$("#wb_FormLista").hide();$("#progmat").hide();$("#editargabarito").hide();$("#wb_FormConf").show("slide",{direction:"left"},500);$(document).on("keyup","#inputnumero",function(a){de09($(this).val());return false});$("#novoprograma").click(function(a){a.preventDefault();a.stopPropagation();$("#cadMateria").hide();$("#edMateria").hide();$("#cadPrograma").show();$("#edPrograma").hide();$(".modalbutton").removeClass("programa btn btn-success").addClass("programa btn btn-danger");$(".modalbutton").html("Cancelar");$("#modalcadprogmat").modal("show")});$("#novamateria").click(function(a){a.preventDefault();a.stopPropagation();$("#cadMateria").show();$("#edMateria").hide();$("#cadPrograma").hide();$("#edPrograma").hide();$(".modalbutton").removeClass("materia btn btn-success").addClass("materia btn btn-danger");$(".modalbutton").html("Cancelar");$("#cadPrograma").hide();$("#modalcadprogmat").modal("show")});$("#excluimateria").click(function(d){d.preventDefault();d.stopPropagation();$("#cadMateria").hide();$("#edMateria").hide();$("#cadPrograma").hide();$("#edPrograma").hide();$(".modalbutton").removeClass("materia btn btn-success").addClass("materia btn btn-danger");$(".modalbutton").html("Cancelar");var a=confirm("Você deseja deletar esta matéria?");var b=$("#matriculausuario").val();if(a==true){var c=$("#tokenfield-materia").val().split("-");$.ajax({type:"POST",url:"cadastroavaliacao_adm/excluirmateria",data:{id:c[0],matricula_usuario:b},success:function(e){e=JSON.parse(e);if(e.sucesso){alert(c[1]+" excluido com sucesso!!");$(".materia").click()}}})}return false});$("#excluiprograma").click(function(d){d.preventDefault();d.stopPropagation();$("#cadMateria").hide();$("#edMateria").hide();$("#cadPrograma").hide();$("#edPrograma").hide();$(".modalbutton").removeClass("programa btn btn-success").addClass("programa btn btn-danger");$(".modalbutton").html("Cancelar");var a=confirm("Você deseja deletar este Programa?");var b=$("#matriculausuario").val();if(a==true){var c=$("#tokenfield-programa").val().split("-");$.ajax({type:"POST",url:"cadastroavaliacao_adm/excluirprograma",data:{id:c[0],matricula_usuario:b},success:function(e){e=JSON.parse(e);if(e.sucesso){alert(c[1]+" excluido com sucesso!!");$(".close").click()}}})}return false});$("#cadastrarmateria").click(function(c){c.preventDefault();c.stopPropagation();var a=$("#inputmateria").val();var b=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/cadastrarmateria",data:{nome:a,matricula_usuario:b},success:function(d){d=JSON.parse(d);if(d.sucesso){$(".modalbutton").removeClass("materia btn btn-danger").addClass("materia btn btn-success");$(".modalbutton").html("Ok");alert(d.nome+" cadastrado com sucesso!!")}}})});$("#editarmateria").click(function(d){d.preventDefault();d.stopPropagation();var a=$("#inputedmateria").val();var c=$("#inputedmateriaid").val();var b=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/editarmateria",data:{nome:a,id:c,matricula_usuario:b},success:function(e){e=JSON.parse(e);if(e.sucesso){$(".modalbutton").removeClass("materia btn btn-danger").addClass("materia btn btn-success");$(".modalbutton").html("Ok");alert(a+" editado com sucesso!!")}}})});$(document).on("click","#editamateria",function(b){b.preventDefault();b.stopPropagation();var a=$("#tokenfield-materia").val().split("-");$("#inputedmateriaid").val(a[0]);$("#inputedmateria").val(a[1]);$("#cadMateria").hide();$("#edMateria").show();$("#cadPrograma").hide();$("#edPrograma").hide();$(".modalbutton").removeClass("materia btn btn-success").addClass("materia btn btn-danger");$(".modalbutton").html("Cancelar");$("#modalcadprogmat").modal("show")});$(document).on("click","#editaprograma",function(b){b.preventDefault();b.stopPropagation();var a=$("#tokenfield-programa").val().split("-");$("#inputedprogramaid").val(a[0]);$("#inputedprograma").val(a[1]);$("#cadMateria").hide();$("#edMateria").hide();$("#cadPrograma").hide();$("#edPrograma").show();$(".modalbutton").removeClass("programa btn btn-success").addClass("programa btn btn-danger");$(".modalbutton").html("Cancelar");$("#modalcadprogmat").modal("show")});$("#editarprograma").click(function(d){d.preventDefault();d.stopPropagation();var a=$("#inputedprograma").val();var c=$("#inputedprogramaid").val();var b=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/editarprograma",data:{nome:a,id:c,matricula_usuario:b},success:function(e){e=JSON.parse(e);if(e.sucesso){$(".modalbutton").removeClass("programa btn btn-danger").addClass("programa btn btn-success");$(".modalbutton").html("Ok");alert(a+" editado com sucesso!!")}}})});$(document).on("click",".materia",function(a){a.preventDefault();a.stopPropagation();$("#tokenfield-materia").val("Carregando...");$.ajax({type:"POST",url:"cadastroavaliacao_adm/selectmateria",data:{materia:"*"},success:function(b){b=JSON.parse(b);if(b.sucesso){$("#tokenfield-materia").val("");$("#tokenfield-materia").data("bs.tokenfield").$input.val("");$("#tokenfield-materia").data("bs.tokenfield").$input.autocomplete({source:b.nome})}}})});$("#cadastrarprograma").click(function(c){c.preventDefault();c.stopPropagation();var a=$("#inputprograma").val();var b=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/cadastrarprograma",data:{nome:a,matricula_usuario:b},success:function(d){d=JSON.parse(d);if(d.sucesso){$(".modalbutton").removeClass("programa btn btn-danger").addClass("programa btn btn-success");$(".modalbutton").html("Ok");alert(d.nome+" cadastrado com sucesso!!")}}})});$(document).on("click",".programa",function(a){a.preventDefault();a.stopPropagation();$("#tokenfield-programa").val("Carregando...");setTimeout(function(){$.ajax({type:"POST",url:"cadastroavaliacao_adm/selectprograma",data:{programa:"*"},success:function(b){b=JSON.parse(b);if(b.sucesso){$("#tokenfield-programa").val("");$("#tokenfield-programa").data("bs.tokenfield").$input.val("");$("#tokenfield-programa").data("bs.tokenfield").$input.autocomplete({source:b.nome})}}})},1500)});$(document).on("focus","#textdescricao",function(a){$("#tokenfield-programa").val("Carregando...");$("#progmat").show("slide",{direction:"down"},500);$.ajax({type:"POST",url:"cadastroavaliacao_adm/selectprograma",data:{programa:"*"},success:function(b){b=JSON.parse(b);if(b.sucesso){$("#tokenfield-programa").val("");$("#tokenfield-programa").data("bs.tokenfield").$input.val("");$("#tokenfield-programa").data("bs.tokenfield").$input.autocomplete({source:b.nome})}}})});$(document).on("focus","#textdescricao",function(a){$("#tokenfield-materia").val("Carregando...");$.ajax({type:"POST",url:"cadastroavaliacao_adm/selectmateria",data:{materia:"*"},success:function(b){b=JSON.parse(b);if(b.sucesso){$("#tokenfield-materia").val("");$("#tokenfield-materia").data("bs.tokenfield").$input.val("");$("#tokenfield-materia").data("bs.tokenfield").$input.autocomplete({source:b.nome})}}})});$(document).on("click",".buttonsalvar1",function(i){i.preventDefault();i.stopPropagation();var h=$("#textdescricao").val();var a=$("#tokenfield-programa").val().split("-")[1];var c=$("#tokenfield-materia").val().split("-")[1];var g=$("#inputnumero").val();var d=$("#tipodeprova").find("option").filter(":selected").text();var b=$("#tokenfield-anoserie").val();var f=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/cadastraravaliacao",data:{textdescricao:h,tokenfield_programa:a,tokenfield_materia:c,op:g,serie:b,tipo:d,matricula_usuario:f},success:function(e){e=JSON.parse(e);if(e.sucesso){$("#error1").val("");$("#diverror1").hide();$("#editargabarito").show("slide",{direction:"down"},500);$(".buttonsalvar1").removeClass("buttonsalvar1 btn btn-primary glyphicon glyphicon-arrow-down").addClass("buttoneditar1 btn btn-warning glyphicon glyphicon-refresh");$(".buttoneditar1").html("Atualizar");alert(e.values)}else{$("#error1").val(e.values);$("#diverror1").show()}}})});$(document).on("click",".buttoneditar1",function(i){i.preventDefault();i.stopPropagation();var h=$("#textdescricao").val();var a=$("#tokenfield-programa").val().split("-")[1];var c=$("#tokenfield-materia").val().split("-")[1];var g=$("#inputnumero").val();var d=$("#tipodeprova").find("option").filter(":selected").text();var b=$("#tokenfield-anoserie").val();var f=$("#matriculausuario").val();$.ajax({type:"POST",url:"cadastroavaliacao_adm/atualizaravaliacao",data:{textdescricao:h,tokenfield_programa:a,tokenfield_materia:c,op:g,serie:b,tipo:d,matricula_usuario:f},success:function(e){e=JSON.parse(e);if(e.sucesso){$("#error1").val("");$("#diverror1").hide();alert(e.values)}else{$("#error1").val(e.values);$("#diverror1").show()}}})});$("#tokenfield-zona").tokenfield({autocomplete:{source:["ZONA NORTE","ZONA SUL","ZONA LESTE","ZONA SUDESTE","ESCOLAS DIVERSAS","ESCOLAS DE EIXO"],delay:100},showAutocompleteOnFocus:true});$("#tokenfield-escolas").tokenfield({autocomplete:{delay:100},showAutocompleteOnFocus:true});$("#tokenfield-escolas-nomes").tokenfield({autocomplete:{delay:100},showAutocompleteOnFocus:true});$("#tokenfield-serie").tokenfield({limit:1,autocomplete:{delay:100},showAutocompleteOnFocus:true});$("#tokenfield-turma").tokenfield({autocomplete:{delay:100},showAutocompleteOnFocus:true});$("#tokenfield-anoserie").tokenfield({limit:1,autocomplete:{source:["1 ANO","2 ANO","3 ANO","4 ANO","5 ANO","6 ANO","7 ANO","8 ANO","9 ANO","1 SERIE","2 SERIE","3 SERIE","4 SERIE","5 SERIE","6 SERIE","7 SERIE","8 SERIE","ALFABETIZACAO","MULTISERIADA","SELIGA","ACELERA","MATERNAL","MATERNAL I","MATERNAL II","MATERNALZINHO","BERCARIO","1 PERIODO","2 PERIODO"],delay:100},showAutocompleteOnFocus:true});$("#tokenfield-materia").tokenfield({limit:1,autocomplete:{delay:100},showAutocompleteOnFocus:true});$("#tokenfield-programa").tokenfield({limit:1,autocomplete:{delay:100},showAutocompleteOnFocus:true})});